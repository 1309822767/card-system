<?php
namespace App\Library\Pay; class Pay { private $driver = null; public function goPay($sp2688c6, $sp51ee1d, $sp930bb6, $sp9a31c1, $sp7918ab) { $this->driver = static::getDriver($sp2688c6->id, $sp2688c6->driver); $spc8c9ef = json_decode($sp2688c6->config, true); $spc8c9ef['payway'] = $sp2688c6->way; $this->driver->goPay($spc8c9ef, $sp51ee1d, $sp930bb6, $sp9a31c1, $sp7918ab); return true; } public static function getDriver($sp4b1cb7, $sp35b7d6) { $spdcb0e9 = 'App\\Library\\Pay\\' . ucfirst($sp35b7d6) . '\\Api'; if (!class_exists($spdcb0e9)) { throw new \Exception('支付驱动未找到'); } return new $spdcb0e9($sp4b1cb7); } }