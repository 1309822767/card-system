<?php
require_once '../lib/WxPay.Api.php'; class NativePay { public function GetPrePayUrl($sp764282) { $sp1ae7fc = new WxPayBizPayUrl(); $sp1ae7fc->SetProduct_id($sp764282); $sp5c7000 = WxpayApi::bizpayurl($sp1ae7fc); $sp59c732 = 'weixin://wxpay/bizpayurl?' . $this->ToUrlParams($sp5c7000); return $sp59c732; } private function ToUrlParams($spceb02e) { $sp10414e = ''; foreach ($spceb02e as $spc57c89 => $sp2a00a3) { $sp10414e .= $spc57c89 . '=' . $sp2a00a3 . '&'; } $sp10414e = trim($sp10414e, '&'); return $sp10414e; } public function GetPayUrl($sp5bf110) { if ($sp5bf110->GetTrade_type() == 'NATIVE') { $sp820aff = WxPayApi::unifiedOrder($sp5bf110); return $sp820aff; } } public function GetH5PayUrl($sp5bf110) { if ($sp5bf110->GetTrade_type() == 'MWEB') { $sp820aff = WxPayApi::unifiedOrder($sp5bf110); return $sp820aff; } } }