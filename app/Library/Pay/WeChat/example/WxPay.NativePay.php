<?php
require_once '../lib/WxPay.Api.php'; class NativePay { public function GetPrePayUrl($sp102f5d) { $sp195bf7 = new WxPayBizPayUrl(); $sp195bf7->SetProduct_id($sp102f5d); $sp630dae = WxpayApi::bizpayurl($sp195bf7); $sp81923e = 'weixin://wxpay/bizpayurl?' . $this->ToUrlParams($sp630dae); return $sp81923e; } private function ToUrlParams($spde5538) { $sp4bfab3 = ''; foreach ($spde5538 as $sp783862 => $spce84f3) { $sp4bfab3 .= $sp783862 . '=' . $spce84f3 . '&'; } $sp4bfab3 = trim($sp4bfab3, '&'); return $sp4bfab3; } public function GetPayUrl($sp317e70) { if ($sp317e70->GetTrade_type() == 'NATIVE') { $spe62cd8 = WxPayApi::unifiedOrder($sp317e70); return $spe62cd8; } } public function GetH5PayUrl($sp317e70) { if ($sp317e70->GetTrade_type() == 'MWEB') { $spe62cd8 = WxPayApi::unifiedOrder($sp317e70); return $spe62cd8; } } }