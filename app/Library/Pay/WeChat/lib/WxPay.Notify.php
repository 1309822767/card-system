<?php
class WxPayNotify extends WxPayNotifyReply { public final function Handle($sp330824 = true) { $sp820aff = WxpayApi::notify(array($this, 'NotifyCallBack'), $sp3a6f3c); if ($sp820aff == false) { $this->SetReturn_code('FAIL'); $this->SetReturn_msg($sp3a6f3c); $this->ReplyNotify(false); return; } else { $this->SetReturn_code('SUCCESS'); $this->SetReturn_msg('OK'); } $this->ReplyNotify($sp330824); } public function NotifyProcess($sp69c4ce, &$sp3a6f3c) { return true; } public final function NotifyCallBack($sp69c4ce) { $sp3a6f3c = 'OK'; $sp820aff = $this->NotifyProcess($sp69c4ce, $sp3a6f3c); if ($sp820aff == true) { $this->SetReturn_code('SUCCESS'); $this->SetReturn_msg('OK'); } else { $this->SetReturn_code('FAIL'); $this->SetReturn_msg($sp3a6f3c); } return $sp820aff; } private final function ReplyNotify($sp330824 = true) { if ($sp330824 == true && $this->GetReturn_code() == 'SUCCESS') { $this->SetSign(); } WxpayApi::replyNotify($this->ToXml()); } }